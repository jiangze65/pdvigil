 <!-- templates/waveform.html -->

{% extends "base.html" %}

{% block content %}
    <h1>Wave Form #1</h1>
    <!-- bar chart canvas element -->
    <div id="plotlyChart"></div>
    <p id="pointSelected">Point selected:</p>
    <script>
      var trace1 = {
		line: {
			color: 'rgb(67, 67, 67)',
			width: 2
			},
		x: [{% for item in labels %}
                   "{{item}}",
                  {% endfor %}],
		y: {{values}},
		type: 'scatter'
	  };
	  
	  var data = [trace1];
	  
	  Plotly.plot('plotlyChart', data);
      // get the text element below the chart
      var pointSelected = document.getElementById("pointSelected");

      // create a callback function for updating the selected index on the chart
      holder.onclick = function(evt){
        var activePoint = myChart.getElementAtEvent(evt);
        console.log(activePoint);
        console.log('x:' + activePoint[0]._view.x);
        console.log('maxWidth: ' + activePoint[0]._xScale.maxWidth);
        console.log('y: ' + activePoint[0]._view.y);
        console.log('index: ' + activePoint[0]._index);
        pointSelected.innerHTML = 'Point selected... index: ' + activePoint[0]._index;
      };
    </script>
{% endblock %}
